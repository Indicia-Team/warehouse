{
  "fields": [
    { "sql": "id", "type": "integer" },
    { "sql": "occurrence_id", "type": "integer"},
    { "sql": "comment", "type": "string"},
    { "sql": "auto_generated", "type": "boolean"},
    { "sql": "generated_by", "type": "string"},
    { "sql": "implies_manual_check_required", "type": "boolean"},
    { "sql": "query", "type": "string"},
    { "sql": "record_status", "type": "string"},
    { "sql": "record_substatus", "type": "string"},
    { "sql": "external_key", "type": "string"},
    { "sql": "reply_to_id", "type": "integer"},
    { "sql": "redet_taxa_taxon_list_id", "type": "integer"},
    { "sql": "created_on", "type": "date" },
    { "sql": "created_by_id", "type": "integer" },
    { "sql": "updated_on", "type": "date" },
    { "sql": "updated_by_id", "type": "integer" }
  ],
  "joins": [
    {
      "sql": "JOIN occurrences t2 ON t2.id=t1.occurrence_id AND t2.deleted=false",
      "fields": [
        { "sql": "t2.website_id", "name": "website_id", "type": "integer" }
      ]
    },
     {
      "sql": "JOIN users t3 on t3.id=t1.created_by_id AND t3.deleted=false",
      "fields": []
    },
    {
      "sql": "JOIN people t4 on t4.id=t3.person_id AND t4.deleted=false",
      "fields": [
        { "sql": "COALESCE(t1.person_name, t4.first_name || ' ' || t4.surname)", "name": "person_name", "type": "string" }
      ]
    }
  ],
  "userFilterField": "t2.created_by_id"
}